```js
const solution = (new_id) => {
    const answer = new_id
        .toLowerCase() // 1
        .replace(/[^\w-_.]/g, '') // 2
        .replace(/\.{2,}/g, '.') // 3
        .replace(/^\.|\.$/g, '') // 4
        .replace(/^$/, 'a') // 5
        .slice(0, 15).replace(/\.$/, ''); // 6
    const len = answer.length;
    return len > 2 ? answer : answer + answer.charAt(len - 1).repeat(3 - len); // 7
}
```

### python 코드 추가

```python
def solution(new_id):
    if new_id == "":
        return "aaa"
    answer = new_id.lower()
    tmp = ""
    for a in answer:
        if a not in "~!@#$%^&*()=+[{]}:?,<>/":
            tmp += a
    answer = tmp
    while ".." in answer:
        answer = answer.replace("..", ".")
    try:
        if answer[0] == ".":
            answer = answer[1:]
        if answer[-1] == ".":
            answer = answer[:-1]
    except IndexError:
        pass
    if answer == "":
        return "aaa"
    if len(answer) >= 16:
        answer = answer[:15]
    if answer[-1] == ".":
        answer = answer[:-1] 
    while len(answer) <= 2:
        answer += answer[-1]
    return answer
```
